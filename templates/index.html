<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- PAGE settings -->
  <link rel="icon" href="https://templates.pingendo.com/assets/Pingendo_favicon.ico">
  <title>Road Condition </title>
  <meta name="description" content="Wireframe design of a landing page by Pingendo">
  <meta name="keywords" content="Pingendo bootstrap example template wireframe landing">
  <meta name="author" content="Pingendo">
  <!-- CSS dependencies -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="../static/css/wireframe.css">
      
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
        <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
<script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />



  <style>


    #map19e5e676839f447ca9a5828ec7ae0323 {
      height:100%;
    }
    .map-responsive{
    overflow:hidden;
    padding-bottom:56.25%;
    position:relative;
    height:0;
}

    .counter {
    background-color:#f5f5f5;
    padding: 5px 0;
    border-radius: 5px;
}

.count-title {
    font-size: 15px;
    font-weight: normal;
    margin-top: 10px;
    margin-bottom: 0;
    text-align: center;
}

.count-text {
    font-size: 13px;
    font-weight: normal;
    margin-top: 10px;
    margin-bottom: 0;
    text-align: center;
}

.fa-2x {
    margin: 0 auto;
    float: none;
    display: table;
    color: #4ad1e5;
}

  </style> 
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>

</head>

<body >
  <nav class="navbar navbar-expand-md navbar-dark bg-info sticky-top" >
    <div class="container">
      <a class="navbar-brand" href="#"><i class="fa d-inline fa-lg fa-bullseye"></i></a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar2SupportedContent" aria-controls="navbar2SupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span> </button>
      
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="text-white " >Contact Me : raqueebilahi@gmail.com</a>
          </li>
        </ul>
      
    </div>
  </nav>

  <div class="h-60 d-flex align-items-center bg-info" style="background-color: #190b65;">
    <div class="container">
      <div class="row">
        <div class="mx-auto text-center col-md-10">
          <br>
          <h1 class="text-white display-4" >A.I Road Monitoring</h1>
          <p class="lead text-white">Road Condition Monitoring With Machine Learning and Artificial Intelligence &nbsp;</p>

        
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <h4 class="alert-heading"></h4>
  <p class="mb-0">First 3 Minutes of CSV file will be taken because i have server limitation</p>
 
  <p class="mb-0">Upload GPS,Gyroscope file of size less that 400 kB. Due to my server limitation.</p>
  <hr>
  Sample Prediction is given below
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>



<form action="{{ url_for('view')}}" method="post" enctype="multipart/form-data">
 
  <div class="input-group mb-3">
  <div class="input-group-prepend">
    <a Class="btn btn-warning" href="/Download/GPS.csv"> Download Sample GPS.csv</a>
  </div> 
  <div class="custom-file">
    <input type="file" class="custom-file-input" id="inputGroupFile01" name="gps">

    <label class="custom-file-label" for="inputGroupFile01">Choose GPS file</label>
  </div>
</div>

  <div class="input-group mb-3">
  <div class="input-group-prepend">
    <a Class="btn btn-warning" href="/Download/Gyroscope.csv">Download Sample Gyrpscope.csv</a>
  </div> 
  <div class="custom-file">
    <input type="file" class="custom-file-input" id="inputGroupFile01" name="gyroscope">
    
    <label class="custom-file-label" for="inputGroupFile01">Choose Gyroscope file</label>
  </div>
</div>

                      <input class = "btn btn-success" type="submit" value="Predict" name="submit">

                    </form><br>
                    <div class="container">
                      <div class="row">

                  <div class="mx-auto text-center col-md-4">
                    <p class = "btn btn-primary" ><a href="https://github.com/raqeebshaikh/RoadCondition" style="color:#000000; font-weight:600;">GitHub Code</a></p>
                  </div>
                                          <div class="mx-auto text-align col-md-4">
                    <p class = "btn btn-primary" ><a href="{{ url_for('step')}}" style="color:#000000; font-weight:600;">Predict on your own data . Click Here</a></p>
                  </div>
                  <div class="mx-auto text-center col-md-4">
                    <p class = "btn btn-primary" ><a href="http://raqeeb.in/" style="color:#000000; font-weight:600;">My website</a></p>
                  </div>
                  </div>  
                  </div>

        </div>
      </div>
    </div>
  </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js" style=""></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" style="">

  

  <div class="py-3">
    <div class="container">
      <div class="row">

        <div class="col-md-6 ">

          
            
            <div class="container">

               <div id="chart-container"></div>

</div>

 

          
        </div>



        <div class="col-md-6">
          <div class="container">
          <div id="map19e5e676839f447ca9a5828ec7ae0323" style="width:auto; height: 500px;  border-radius: 30px;"></div>
        </div>
        </div>
      
       </div> 
     </div>
  </div>



  <div class="py-3 " style="background-color: #190b65;">
    <div class="container">
      <div class="row">
        <div class="p-4 col-lg-10">
          <h1 class="mb-3 text-white">Detecting Road Conditions</h1>
          <div class="blockquote text-muted">
            <p class="mb-0 text-white">With the readily available Gyroscope on your mobile phones and the standard position of keeping the phone in pockets our A. I can detect the road condition. It stores the data in the database for other riders to get precise and accurate information in real time. We use Convolution Neural Network to predict patterns on the road and interpret as Good,Bad or Very Bad Road.&nbsp;</p>
          </div>
          
        </div>
        <div class="col-md-2 align-self-center">
          
      </div>
    </div>
  </div>

  <div class="py-2" style="background-image: url(&quot;https://pingendo.com/site-assets/cover.jpg&quot;); background-position: left top; background-size: 100%; background-repeat: repeat;" id="api">
    <div class="container">
      <div class="row">
        <div class="col-md-12 my-2 pt-2">
          <h1 class="mb-3 text-white">Api Acces&nbsp;</h1>
          <p class="text-monospace text-white mb-0">Input Request Sample - The Below request is of 1 sample i.e - (samples,timestep,feature) (1,10,3) . You can add as many samples you wish in the api request eg - (1000,10,3) . Copy Paste below request in Ubuntu Terminal for testing API</p>
          <br>
          <p class="text-monospace text-white mb-0 border-danger rounded border">curl --header "Content-Type: application/json" --request POST --data '{"numpyarray":[[[0.01732835, 0.8245989 , 0.0720054 ],[0.61879624, 0.81427569, 0.66685889], [0.6466509 , 0.66167216, 0.14050801], [0.72499171, 0.03914283, 0.54737222], [0.20848813, 0.12985419, 0.14895229], [0.68687396, 0.85619549, 0.57348964], [0.06813701, 0.56330812, 0.41182815], [0.37490412, 0.24444778, 0.70499129], [0.70121111, 0.2147882 , 0.94352369], [0.8823995 , 0.89301293, 0.85990209]]]}' https://roadcondition.herokuapp.com/predict
</p>
        <br>
          <p class="text-monospace text-white mb-0">Output (Bad Road : 0 , Good Road : 1, Very Bad Road : 2) -- {"Output": "[0]"}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="py-3" style="background-color: #08fcc3;">
    <div class="container">
      <div class="row">
        <div class="px-md-5 p-3 col-md-6 d-flex flex-column align-items-start justify-content-center" style="">
          <h1>Challenges</h1>
          <p class="mb-3 lead">Having to rely on the Mobile GPS tracking road is a hurdle as the GPS reception is lost midway.I found a way around by finding the Euclidean distance where the mobile detects location and splitting in n number of locations between two points. In doing so I could get some closer to Bad Road Location.</p>
          <div class="row">
          </div>
        </div>
        <div class="col-md-6">
          <h1>Tools and Library Used&nbsp;</h1>
          <div class="col-md-12">
            <p class="mb-3 lead">Flask,
            Keras,
          Heroku,
        Conv1D,Pandas,Numpy,Matplotlib</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="py-5" id="model" style="background-color: #99dff9;">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h1>Model Development&nbsp;</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3 p-3 border-0" style="">
          <h5 class="">Data Collection</h5>
        </div>
        <div class="col-md-9 p-3" style="">
          <p>Data Collection for this project is done completely with Mobile (Moto g4 plus). The data collected was GPS, Gyroscope. The data collection interval was set to 100ms. These parameters can be changed to improve accuracy.</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3 p-3 border-0" style="">
          <h5 class="">Data PreProcessing</h5>
        </div>
        <div class="col-md-9 p-3" style="">
          <div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"> </li>

            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active"> <img class="d-block img-fluid w-100" src="/static/img/xyz.png">
                <div class="carousel-caption">
                  <h5 class="m-0">Carousel</h5>
                  <p>with indicators</p>
                </div>
              </div>
           
            </div>
          </div>
          <br>
          <p>Having the data collected with mobile Data Pre Processing is done to filter out unwanted noise from data and to split data into three road conditions (Good, Bad, Very Bad). </p>
        </div>
      </div>
      <div class="row">
        <div class="p-3 border-0 col-md-3" style="">
          <h5 class="">Model Development</h5>
        </div>
        <div class="p-3 col-md-9" style="">
          <p>I've used Keras to complete this project with Conv1D. Having X, Y, Z data using convolution would make a greater sense of understanding the spatial hierarchy of the data
          </p>
          <div class="row">
            <div class="col-md-3 p-3 border-0" style="">
              <h5 class="">Conv1D</h5>
            </div>
            <div class="col-md-4 p-3" style="">
              <p>Accuracy - 98%</p>
            </div>
   
          </div>
        </div>
      </div>
      <div class="row">
        <div class="p-3 border-0 col-md-3" style="">
          <h5 class="">Model Deployment</h5>
        </div>
        <div class="col-md-9" style="">
          <div class="p-3 col-md-12" style="">
            <p>Flask is used and Model Deployment with Heroku.&nbsp;</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="bg-dark py-3">
    <div class="container">
      <div class="row d-flex justify-content-between">
        <div class="col-lg-4 col-md-6">
          <p class="text-secondary mb-0">Copyright - Lorem ipsum dolor sit amet</p>
        </div>
        <div class="col-lg-4 col-md-6">
          <p class="text-secondary mb-0">2018 - Lorem ipsum dolor sit amet</p>
        </div>
      </div>
    </div>
  </div>


  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <pingendo onclick="window.open('https://pingendo.com/', '_blank')" style="cursor:pointer;position: fixed;bottom: 20px;right:20px;padding:4px;background-color: #00b0eb;border-radius: 8px; width:220px;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:14px;color:white">Made with Pingendo Free&nbsp;&nbsp;<img src="https://pingendo.com/site-assets/Pingendo_logo_big.png" class="d-block" alt="Pingendo logo" height="16"></pingendo>

  {% if request.form['submit'] == 'Predict' %}
  
  <div><b>Summary For:</b></div>
{% endif %}




        <script>
            $(document).on('change', '.custom-file-input', function (event) {
    $(this).next('.custom-file-label').html(event.target.files[0].name);
})

            
        </script>


<script text="text/javascript">
var map = L.map('map19e5e676839f447ca9a5828ec7ae0323');
L.tileLayer(
  "http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
  {maxZoom:19, attribution: '<a href="https://github.com/jwass/mplleaflet">mplleaflet</a> | Map data (c) <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(map);

var gjData = JSON.parse({{ var|tojson }});
// alert(typeof(gjData))
if (gjData.features.length != 0) {
  var gj = L.geoJson(gjData, {
    style: function (feature) {
      return feature.properties;
    },
    pointToLayer: function (feature, latlng) {
      var icon = L.divIcon({'html': feature.properties.html, 
        iconAnchor: [feature.properties.anchor_x, 
                     feature.properties.anchor_y], 
          className: 'empty'});  // What can I do about empty?
      return L.marker(latlng, {icon: icon});
    }
  });
  gj.addTo(map);
  
  map.fitBounds(gj.getBounds());
} else {
  map.setView([0, 0], 1);
}
</script>

<script type="text/javascript">
  
  (function ($) {
  $.fn.countTo = function (options) {
    options = options || {};
    
    return $(this).each(function () {
      // set options for current element
      var settings = $.extend({}, $.fn.countTo.defaults, {
        from:            $(this).data('from'),
        to:              $(this).data('to'),
        speed:           $(this).data('speed'),
        refreshInterval: $(this).data('refresh-interval'),
        decimals:        $(this).data('decimals')
      }, options);
      
      // how many times to update the value, and how much to increment the value on each update
      var loops = Math.ceil(settings.speed / settings.refreshInterval),
        increment = (settings.to - settings.from) / loops;
      
      // references & variables that will change with each update
      var self = this,
        $self = $(this),
        loopCount = 0,
        value = settings.from,
        data = $self.data('countTo') || {};
      
      $self.data('countTo', data);
      
      // if an existing interval can be found, clear it first
      if (data.interval) {
        clearInterval(data.interval);
      }
      data.interval = setInterval(updateTimer, settings.refreshInterval);
      
      // initialize the element with the starting value
      render(value);
      
      function updateTimer() {
        value += increment;
        loopCount++;
        
        render(value);
        
        if (typeof(settings.onUpdate) == 'function') {
          settings.onUpdate.call(self, value);
        }
        
        if (loopCount >= loops) {
          // remove the interval
          $self.removeData('countTo');
          clearInterval(data.interval);
          value = settings.to;
          
          if (typeof(settings.onComplete) == 'function') {
            settings.onComplete.call(self, value);
          }
        }
      }
      
      function render(value) {
        var formattedValue = settings.formatter.call(self, value, settings);
        $self.html(formattedValue);
      }
    });
  };
  
  $.fn.countTo.defaults = {
    from: 0,               // the number the element should start at
    to: 0,                 // the number the element should end at
    speed: 1000,           // how long it should take to count between the target numbers
    refreshInterval: 100,  // how often the element should be updated
    decimals: 0,           // the number of decimal places to show
    formatter: formatter,  // handler for formatting the value before rendering
    onUpdate: null,        // callback method for every time the element is updated
    onComplete: null       // callback method for when the element finishes updating
  };
  
  function formatter(value, settings) {
    return value.toFixed(settings.decimals);
  }
}(jQuery));

jQuery(function ($) {
  // custom formatting example
  $('.count-number').data('countToOptions', {
  formatter: function (value, options) {
    return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
  }
  });
  
  // start all the timers
  $('.timer').each(count);  
  
  function count(options) {
  var $this = $(this);
  options = $.extend({}, options || {}, $this.data('countToOptions') || {});
  $this.countTo(options);
  }
});
</script>





  <script type="text/javascript">
    var x = JSON.parse({{ piechart|tojson }});
    // alert(x[1.0])
    FusionCharts.ready(function(){
      var chartObj = new FusionCharts({
    type: 'doughnut2d',
    renderAt: 'chart-container',
    width: '100%',
    height: '100%',
    dataFormat: 'json',
    dataSource: {
        "chart": {
          "paletteColors": "#508a4a,#0256a1,#f00000",
            "caption": "Split of Road Condition",
            // "subCaption": "Last year",
            "numberPrefix": "$",
            "bgColor": "#ffffff",
            "startingAngle": "310",
            "showLegend": "1",
            "defaultCenterLabel": "Total revenue: $64.08K",
            "centerLabel": "Revenue from $label: $value",
            "centerLabelBold": "1",
            "showTooltip": "0",
            "decimals": "0",
            "theme": "fusion"
        },
        "data": x
    }
}
);
      chartObj.render();
    });
  </script>

  


</body>

</html>
